---
source: src/codegen/tests.rs
expression: snapshot
---
SOURCE
do {
fn a(f) {
  f()
}

fn b() {
  "ok"
}

a(b)
}

OK
.fn @main
  params 0
  stack 5
  .locals
    a = r1
    b = r2
  .code
  0  lclosure r1, l0   ; a, uv=0
  1  lclosure r2, l1   ; b, uv=0
  2  mov r4, r2
  3  call r3, r1, 1   ; dyn
  4  retv r3

.fn a
  params 1
  stack 3
  .locals
    f = r1
  .code
  0  call r2, r1, 0   ; dyn
  1  retv r2

.fn b
  params 0
  stack 1
  .code
  0  lstr r0, "ok"
  1  ret
