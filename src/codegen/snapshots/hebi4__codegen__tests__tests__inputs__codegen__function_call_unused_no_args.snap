---
source: src/codegen/tests.rs
expression: snapshot
---
SOURCE
do {
fn f() {}

let a = 0
let b = 1

// no args means `dst` can be used without a `mov`
a = f()
}

OK
.fn @main
  params 0
  stack 4
  .locals
    a = r1
    b = r2
  .code
  0  lsmi r1, 0
  1  lsmi r2, 1
  2  call r3, fn1   ; fn1=f
  3  mov r1, r3
  4  lnil r0
  5  ret

.fn f
  params 0
  stack 1
  .code
  0  lnil r0
  1  ret
